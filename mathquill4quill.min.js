"use strict";window.mathquill4quill=function(t){var m=(t=t||{}).Quill||window.Quill,p=t.MathQuill||window.MathQuill,y=t.katex||window.katex;return function(t,e){function l(){return t.container.getElementsByClassName("ql-tooltip")[0]}function n(){return l().getElementsByTagName("input")[0]}if(e=e||{},m?p?y?t.options.modules.formula?MutationObserver||(console.log("MutationObserver not defined"),0):(console.log("Formula module not enabled"),0):(console.log("katex.js not loaded"),0):(console.log("MathQuill.js not loaded"),0):(console.log("Quill.js not loaded"),0)){var o,i,r,u,a,s,d=l(),c=(o=null==e.autofocus||e.autofocus,u=r=i=null,{render:function(){if(null==i){var t=n(),e=l().getElementsByClassName("ql-action")[0];return function(t){t.style.border="1px solid #ccc",t.style.fontSize="13px",t.style.minHeight="26px",t.style.margin="0px",t.style.padding="3px 5px",t.style.width="170px"}(i=document.createElement("span")),u=t.style.all,function(t){t.setAttribute("style","visibility:hidden;padding:0px;border:0px;width:0px;")}(t),function(t){o&&window.setTimeout(function(){return t.focus()},1)}(r=function(t,e){var n=p.getInterface(2).MathField(i,{handlers:{edit:function(){t.value=n.latex()},enter:function(){e.click()}}});return n}(t,e)),function(t,e){e.parentNode.insertBefore(t,e.nextSibling)}(i,t),r}},destroy:function(){null!=i&&(n().setAttribute("style",u),i.remove(),i=null)}}),f=(a=e.operators||[],s=null,{render:function(n){if(null==s&&0!==a.length){var t=l();(function(t){t.style.display="flex",t.style.alignItems="center"})(s=document.createElement("div")),a.forEach(function(t){var e=function(t,e){var n=t[0],l=t[1],o=document.createElement("button");return o.setAttribute("type","button"),y.render(n,o,{throwOnError:!1}),o.onclick=function(){e.cmd(l),e.focus()},o}(t,n);!function(t){t.style.margin="5px",t.style.width="50px",t.style.height="50px",t.style.backgroundColor="#ffffff",t.style.borderColor="#000000",t.style.borderRadius="7px",t.style.borderWidth="2px"}(e),s.appendChild(e)}),t.appendChild(s)}},destroy:function(){null!=s&&(s.remove(),s=null)}});new MutationObserver(function(){if(!d.classList.contains("ql-hidden")&&d.attributes["data-mode"]&&"formula"===d.attributes["data-mode"].value){var t=c.render();f.render(t)}else c.destroy(),f.destroy()}).observe(d,{attributes:!0,attributeFilter:["class","data-mode"]})}}},window.Quill&&(window.Quill.prototype.enableMathQuillFormulaAuthoring=function(t){window.mathquill4quill()(this,t)});
